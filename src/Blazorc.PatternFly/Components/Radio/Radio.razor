@using Microsoft.AspNetCore.Components
@inherits Blazorc.PatternFly.Components.Radio.RadioComponent

<div class="pf-c-radio">
    <input name="@Name" 
           id="@_instanceId" 
           class="pf-c-radio__input" 
           type="radio" 
           aria-invalid="@IsInvalid" 
           value="@Value"
           checked="@IsChecked"
           onchange="@OnValueChanged"
           disabled="@IsDisabled" />
    <label class="pf-c-radio__label" for="@_instanceId">@Label</label>
</div>

@functions
{
    private static int InstanceCounter;

    private readonly string _instanceId = $"radio-{++InstanceCounter}";

    private void OnValueChanged(UIChangeEventArgs e)
    {
        IsChecked = (bool)e.Value;

        var handler = OnChange;
        if (handler != null)
        {
            handler(this, EventArgs.Empty);
        }
    }
}